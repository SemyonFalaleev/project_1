
# üè® Hotel Booking API

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –æ—Ç–µ–ª—è–º–∏, –∫–æ–º–Ω–∞—Ç–∞–º–∏ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –Ω–∞ –±–∞–∑–µ Django REST Framework.

---

## üì¶ ViewSet-—ã

### üîπ `HotelViewSet`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ **–æ—Ç–µ–ª–µ–π**.

**–†–æ—É—Ç:** `/hotels/`

| –ú–µ—Ç–æ–¥ | URL            | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|-------|----------------|---------------------------|
| GET   | `/hotels/`     | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç–µ–ª–µ–π    |
| GET   | `/hotels/{id}/`| –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–µ–ª—å –ø–æ ID      |
| POST  | `/hotels/`     | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ—Ç–µ–ª—å       |
| PUT   | `/hotels/{id}/`| –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–µ–ª—å            |
| DELETE| `/hotels/{id}/`| –£–¥–∞–ª–∏—Ç—å –æ—Ç–µ–ª—å             |

---

### üîπ `HotelRoomViewSet`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–Ω–æ–º–µ—Ä–∞–º–∏ –æ—Ç–µ–ª–µ–π**. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ `hotel_id`.

**–†–æ—É—Ç:** `/hotel-rooms/`

| –ú–µ—Ç–æ–¥ | URL                            | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|-------|--------------------------------|---------------------------------|
| GET   | `/hotel-rooms/`                | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–æ–º–µ—Ä–æ–≤         |
| GET   | `/hotel-rooms/?hotel_id=1`     | –§–∏–ª—å—Ç—Ä –ø–æ ID –æ—Ç–µ–ª—è              |
| GET   | `/hotel-rooms/{id}/`           | –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–º–µ—Ä –ø–æ ID            |
| POST  | `/hotel-rooms/`                | –°–æ–∑–¥–∞—Ç—å –Ω–æ–º–µ—Ä                   |
| PUT   | `/hotel-rooms/{id}/`           | –û–±–Ω–æ–≤–∏—Ç—å –Ω–æ–º–µ—Ä                  |
| DELETE| `/hotel-rooms/{id}/`           | –£–¥–∞–ª–∏—Ç—å –Ω–æ–º–µ—Ä                   |

---

### üîπ `RoomResevationViewSet`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –Ω–æ–º–µ—Ä–æ–≤**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `RoomResevationSerializer`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –¥–∞—Ç.

**–†–æ—É—Ç:** `/reservations/`

| –ú–µ—Ç–æ–¥ | URL                   | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|-------|-----------------------|-----------------------------------|
| GET   | `/reservations/`      | –°–ø–∏—Å–æ–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π               |
| GET   | `/reservations/{id}/` | –ü–æ–ª—É—á–∏—Ç—å –±—Ä–æ–Ω—å –ø–æ ID              |
| POST  | `/reservations/`      | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –±—Ä–æ–Ω—å (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)|
| PUT   | `/reservations/{id}/` | –û–±–Ω–æ–≤–∏—Ç—å –±—Ä–æ–Ω—å                    |
| DELETE| `/reservations/{id}/` | –£–¥–∞–ª–∏—Ç—å –±—Ä–æ–Ω—å                     |

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏ –¥–∞—Ç:**
```json
{
  "non_field_errors": [
    "–ù–∞ —ç—Ç—É –¥–∞—Ç—É –∫–æ–º–Ω–∞—Ç–∞ —É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞!"
  ]
}
```

---

### üîπ `CustomUserViewSet`

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å `CustomUser`).

**–†–æ—É—Ç:** `/users/`

| –ú–µ—Ç–æ–¥ | URL              | –û–ø–∏—Å–∞–Ω–∏–µ               |
|-------|------------------|------------------------|
| GET   | `/users/`        | –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π   |
| GET   | `/users/{id}/`   | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ ID       |
| POST  | `/users/`        | –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  |
| PUT   | `/users/{id}/`   | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ             |
| DELETE| `/users/{id}/`   | –£–¥–∞–ª–µ–Ω–∏–µ               |

---

## üîß –ü—Ä–∏–º–µ—Ä—ã curl-–∑–∞–ø—Ä–æ—Å–æ–≤

**–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–µ–ª—è:**
```bash
curl -X POST http://localhost:8000/hotels/ \
     -H "Content-Type: application/json" \
     -d '{"name": "Hilton", "country": "–†–æ—Å—Å–∏—è", "city": "–ú–æ—Å–∫–≤–∞", "street": "–¢–≤–µ—Ä—Å–∫–∞—è", "street_number": "12"}'
```

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç –ø–æ –æ—Ç–µ–ª—é:**
```bash
curl http://localhost:8000/hotel-rooms/?hotel_id=1
```

**–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏:**
```bash
curl -X POST http://localhost:8000/reservations/ \
     -H "Content-Type: application/json" \
     -d '{"hotel_room": 3, "user": 2, "date_start": "2025-07-10", "date_end": "2025-07-12"}'
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–æ–≤ (–ø—Ä–∏–º–µ—Ä)

```python
from rest_framework.routers import DefaultRouter
from .views import HotelViewSet, HotelRoomViewSet, RoomResevationViewSet, CustomUserViewSet

router = DefaultRouter()
router.register('hotels', HotelViewSet)
router.register('hotel-rooms', HotelRoomViewSet)
router.register('reservations', RoomResevationViewSet)
router.register('users', CustomUserViewSet)
```

---

